<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/7b9ca6a1d31c5662-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/931105f8d96e7f26-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/c7a495162773a63f-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/fbdbe464b9e5cc95-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/2353a6662b834442-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/41761c3dbdadce1b.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/bca99574867e3de4.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/62e03aa861d3a945.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-cbfacbf48d082482.js"/><script src="/_next/static/chunks/fd9d1056-2821b0f0cabcd8bd.js" async=""></script><script src="/_next/static/chunks/23-abf57663e0491ff6.js" async=""></script><script src="/_next/static/chunks/main-app-0e28269d753e21f7.js" async=""></script><script src="/_next/static/chunks/669-1310554c379159d6.js" async=""></script><script src="/_next/static/chunks/app/posts/layout-87563aa515b5fa49.js" async=""></script><title>Tripping on Code: Early Returns</title><meta name="description" content="How to write more readable code using early returns. "/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><meta name="og:type" content="website"/><meta name="twitter:card" content="summary"/><meta name="twitter:creator" content="Avinash Krishna Kumar"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_f68def leading-7 w-2/3 max-w-2/3 mx-auto dark:bg-slate-900 dark:text-slate-200"><div style="margin-left:auto;margin-right:auto"><header class="my-8"><h1 class="__className_05000c text-3xl"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/">Tripping on Code</a></h1></header><main class=""><main><h3 class="font-bold">Early Returns</h3><p>January 12, 2021</p><div class="page_postBody__sSgeO"><p>When a developer is building an application of any complexity, they will have to write many conditional statements. Depending on the complexity of the problem, this can lead to heavy nesting of code.</p>
<p>For Example:</p>
<pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> <span class="token function">GetPersonAge</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> firstName<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> lastName<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
  <span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> result <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">IsNullOrWhitespace</span><span class="token punctuation">(</span>firstName<span class="token punctuation">)</span> <span class="token operator">&#x26;&#x26;</span> <span class="token operator">!</span><span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">IsNullOrWhitespace</span><span class="token punctuation">(</span>lastName<span class="token punctuation">)</span><span class="token punctuation">)</span> 
  <span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">var</span></span> person <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>repository<span class="token punctuation">.</span><span class="token function">GetPerson</span><span class="token punctuation">(</span>firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>person <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> 
    <span class="token punctuation">{</span>
      result <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">CalculateAge</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>DateOfBirth<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> 
  <span class="token keyword">else</span> 
  <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"nameof(firstName) &#x26;&#x26; nameof(lastName) cannot be null"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The above function has a few flaws.</p>
<ol>
<li><strong>Readability</strong> - The code above is not very explicit in its intention. You need to read the entire method to realize that it returns null if no person is found.</li>
<li><strong>The nesting</strong> - The actual logic of the method is captured in the call to invoke calculateAge. This is hidden in the deepest level of nesting.</li>
</ol>
<h2>Functional Programming</h2>
<p>F# and other functional programming languages deal with this differently. In F#, an if statement is supposed to return a value. Take a look at the code below.</p>
<pre class="language-fsharp"><code class="language-fsharp"><span class="token keyword">let</span> greatest a b c <span class="token operator">=</span>
	<span class="token keyword">if</span> a <span class="token operator">>=</span> b <span class="token operator">&#x26;&#x26;</span> a <span class="token operator">>=</span> c 
  	<span class="token keyword">then</span> a
  <span class="token keyword">elif</span> b <span class="token operator">>=</span> a <span class="token operator">&#x26;&#x26;</span> b <span class="token operator">>=</span> c 
    <span class="token keyword">then</span> b
  <span class="token keyword">else</span> 
    c
</code></pre>
<p>The code above might be hard to read if you are unfamiliar with F#. But it makes a lot of sense. Let's break it down.</p>
<p><em>greatest</em> is a function that accepts three parameters, a, b and c, and returns the greatest of the three numbers. F# and many other functional programming languages do not have a return statement; it is assumed that all methods return something, and interestingly an if statement is no different. An if statement always returns a value. So in the code above, if a is greater than equal to b and c, it returns a.</p>
<p>This pattern makes a lot of sense. Let's try and apply this in C# and clean up the code.</p>
<h2>The GetPersonAge function with early returns</h2>
<pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> <span class="token function">GetPersonAge</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> firstName<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> lastName<span class="token punctuation">)</span> 
<span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">isNullOrWhitespace</span><span class="token punctuation">(</span>firstName<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">IsNullOrWhitespace</span><span class="token punctuation">(</span>lastName<span class="token punctuation">)</span><span class="token punctuation">)</span> 
  <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"nameof(firstName) &#x26;&#x26; nameof(lastName) cannot be null"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token class-name"><span class="token keyword">var</span></span> person <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>repository<span class="token punctuation">.</span><span class="token function">GetPerson</span><span class="token punctuation">(</span>firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>person <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> 
  <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">CalculateAge</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>DateOfBirth<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The function above is a lot cleaner. The first few lines of code deal with the exceptional cases. It. explicity states the cases when it throws an exception</p>
<h2>When to avoid Early Returns</h2>
<p>As with almost every rule, you should only use early returns when it adds to the code's maintainability and readability.</p>
<p>There are cases when early returns make the code harder to read, as described in the following cases.</p>
<ul>
<li>Suppose you have a method that sets other properties or member variables in the class. In this case, adding early returns can introduce bugs and make the code harder to follow.</li>
<li>When you have large if statements and many branching paths, here, early returns can be a detriment to readability.</li>
<li>If you have logic after the if statement that needs to be executed, early returns are definitely not going to work. However, you might consider breaking out the conditional logic into its own method if it makes sense.</li>
</ul></div></main></main><footer class="">© <!-- -->2024<!-- --> Tripping on Code</footer></div><script src="/_next/static/chunks/webpack-cbfacbf48d082482.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/7b9ca6a1d31c5662-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/931105f8d96e7f26-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/media/c7a495162773a63f-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n4:HL[\"/_next/static/media/fbdbe464b9e5cc95-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n5:HL[\"/_next/static/css/41761c3dbdadce1b.css\",\"style\"]\n6:HL[\"/_next/static/media/2353a6662b834442-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n7:HL[\"/_next/static/css/bca99574867e3de4.css\",\"style\"]\n8:HL[\"/_next/static/css/62e03aa861d3a945.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"9:I[5751,[],\"\"]\nc:I[9275,[],\"\"]\ne:I[1343,[],\"\"]\nf:I[231,[\"669\",\"static/chunks/669-1310554c379159d6.js\",\"517\",\"static/chunks/app/posts/layout-87563aa515b5fa49.js\"],\"\"]\n11:I[6130,[],\"\"]\nd:[\"slug\",\"early-returns-vs-single-return\",\"d\"]\n12:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/41761c3dbdadce1b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L9\",null,{\"buildId\":\"zU87H2Yx3bLjEEuAcbVCg\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/posts/early-returns-vs-single-return\",\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"early-returns-vs-single-return\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"early-returns-vs-single-return\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"early-returns-vs-single-return\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$La\",\"$Lb\"],null],null]},[\"$\",\"$Lc\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",\"$d\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Le\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/62e03aa861d3a945.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]}],null]},[[\"$\",\"div\",null,{\"style\":{\"marginLeft\":\"auto\",\"marginRight\":\"auto\"},\"children\":[[\"$\",\"header\",null,{\"className\":\"my-8\",\"children\":[\"$\",\"h1\",null,{\"className\":\"__className_05000c text-3xl\",\"children\":[\"$\",\"$Lf\",null,{\"style\":{\"boxShadow\":\"none\",\"textDecoration\":\"none\",\"color\":\"inherit\"},\"href\":\"/\",\"children\":\"Tripping on Code\"}]}]}],[\"$\",\"main\",null,{\"className\":\"\",\"children\":[\"$\",\"$Lc\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Le\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]}],[\"$\",\"footer\",null,{\"className\":\"\",\"children\":[\"© \",2024,\" Tripping on Code\"]}]]}],null],null]},[[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"180x180\",\"href\":\"/apple-touch-icon.png\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/png\",\"sizes\":\"32x32\",\"href\":\"/favicon-32x32.png\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/png\",\"sizes\":\"16x16\",\"href\":\"/favicon-16x16.png\"}],[\"$\",\"link\",null,{\"rel\":\"manifest\",\"href\":\"/site.webmanifest\"}],[\"$\",\"meta\",null,{\"name\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",null,{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",null,{\"name\":\"twitter:creator\",\"content\":\"Avinash Krishna Kumar\"}]]}],[\"$\",\"body\",null,{\"className\":\"__className_f68def leading-7 w-2/3 max-w-2/3 mx-auto dark:bg-slate-900 dark:text-slate-200\",\"children\":[\"$\",\"$Lc\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Le\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/bca99574867e3de4.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]}]}]]}],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$L10\"],\"globalErrorComponent\":\"$11\",\"missingSlots\":\"$W12\"}]]\n"])</script><script>self.__next_f.push([1,"13:T25ee,"])</script><script>self.__next_f.push([1,"\u003cp\u003eWhen a developer is building an application of any complexity, they will have to write many conditional statements. Depending on the complexity of the problem, this can lead to heavy nesting of code.\u003c/p\u003e\n\u003cp\u003eFor Example:\u003c/p\u003e\n\u003cpre class=\"language-csharp\"\u003e\u003ccode class=\"language-csharp\"\u003e\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token return-type class-name\"\u003e\u003cspan class=\"token keyword\"\u003eint\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e?\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003eGetPersonAge\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token keyword\"\u003estring\u003c/span\u003e\u003c/span\u003e firstName\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token keyword\"\u003estring\u003c/span\u003e\u003c/span\u003e lastName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \n\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token keyword\"\u003eint\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e?\u003c/span\u003e\u003c/span\u003e result \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enull\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e!\u003c/span\u003e\u003cspan class=\"token keyword\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eIsNullOrWhitespace\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003efirstName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e \u003cspan class=\"token operator\"\u003e!\u003c/span\u003e\u003cspan class=\"token keyword\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eIsNullOrWhitespace\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elastName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \n  \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e\u003c/span\u003e person \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003erepository\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eGetPerson\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003efirstName\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e lastName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eperson \u003cspan class=\"token operator\"\u003e!=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enull\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \n    \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n      result \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eCalculateAge\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eperson\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eDateOfBirth\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \n  \u003cspan class=\"token keyword\"\u003eelse\u003c/span\u003e \n  \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003ethrow\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token constructor-invocation class-name\"\u003eArgumentException\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token interpolation-string\"\u003e\u003cspan class=\"token string\"\u003e$\"nameof(firstName) \u0026#x26;\u0026#x26; nameof(lastName) cannot be null\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \n  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e result\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe above function has a few flaws.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eReadability\u003c/strong\u003e - The code above is not very explicit in its intention. You need to read the entire method to realize that it returns null if no person is found.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eThe nesting\u003c/strong\u003e - The actual logic of the method is captured in the call to invoke calculateAge. This is hidden in the deepest level of nesting.\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003eFunctional Programming\u003c/h2\u003e\n\u003cp\u003eF# and other functional programming languages deal with this differently. In F#, an if statement is supposed to return a value. Take a look at the code below.\u003c/p\u003e\n\u003cpre class=\"language-fsharp\"\u003e\u003ccode class=\"language-fsharp\"\u003e\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e greatest a b c \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\n\t\u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e a \u003cspan class=\"token operator\"\u003e\u003e=\u003c/span\u003e b \u003cspan class=\"token operator\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e a \u003cspan class=\"token operator\"\u003e\u003e=\u003c/span\u003e c \n  \t\u003cspan class=\"token keyword\"\u003ethen\u003c/span\u003e a\n  \u003cspan class=\"token keyword\"\u003eelif\u003c/span\u003e b \u003cspan class=\"token operator\"\u003e\u003e=\u003c/span\u003e a \u003cspan class=\"token operator\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e b \u003cspan class=\"token operator\"\u003e\u003e=\u003c/span\u003e c \n    \u003cspan class=\"token keyword\"\u003ethen\u003c/span\u003e b\n  \u003cspan class=\"token keyword\"\u003eelse\u003c/span\u003e \n    c\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe code above might be hard to read if you are unfamiliar with F#. But it makes a lot of sense. Let's break it down.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003egreatest\u003c/em\u003e is a function that accepts three parameters, a, b and c, and returns the greatest of the three numbers. F# and many other functional programming languages do not have a return statement; it is assumed that all methods return something, and interestingly an if statement is no different. An if statement always returns a value. So in the code above, if a is greater than equal to b and c, it returns a.\u003c/p\u003e\n\u003cp\u003eThis pattern makes a lot of sense. Let's try and apply this in C# and clean up the code.\u003c/p\u003e\n\u003ch2\u003eThe GetPersonAge function with early returns\u003c/h2\u003e\n\u003cpre class=\"language-csharp\"\u003e\u003ccode class=\"language-csharp\"\u003e\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token return-type class-name\"\u003e\u003cspan class=\"token keyword\"\u003eint\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e?\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003eGetPersonAge\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token keyword\"\u003estring\u003c/span\u003e\u003c/span\u003e firstName\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token keyword\"\u003estring\u003c/span\u003e\u003c/span\u003e lastName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \n\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eisNullOrWhitespace\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003efirstName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e \u003cspan class=\"token keyword\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eIsNullOrWhitespace\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elastName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \n  \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003ethrow\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token constructor-invocation class-name\"\u003eArgumentException\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token interpolation-string\"\u003e\u003cspan class=\"token string\"\u003e$\"nameof(firstName) \u0026#x26;\u0026#x26; nameof(lastName) cannot be null\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \n  \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e\u003c/span\u003e person \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003erepository\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eGetPerson\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003efirstName\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e lastName\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eperson \u003cspan class=\"token operator\"\u003e==\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enull\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \n  \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enull\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n  \n  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eCalculateAge\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eperson\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eDateOfBirth\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe function above is a lot cleaner. The first few lines of code deal with the exceptional cases. It. explicity states the cases when it throws an exception\u003c/p\u003e\n\u003ch2\u003eWhen to avoid Early Returns\u003c/h2\u003e\n\u003cp\u003eAs with almost every rule, you should only use early returns when it adds to the code's maintainability and readability.\u003c/p\u003e\n\u003cp\u003eThere are cases when early returns make the code harder to read, as described in the following cases.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eSuppose you have a method that sets other properties or member variables in the class. In this case, adding early returns can introduce bugs and make the code harder to follow.\u003c/li\u003e\n\u003cli\u003eWhen you have large if statements and many branching paths, here, early returns can be a detriment to readability.\u003c/li\u003e\n\u003cli\u003eIf you have logic after the if statement that needs to be executed, early returns are definitely not going to work. However, you might consider breaking out the conditional logic into its own method if it makes sense.\u003c/li\u003e\n\u003c/ul\u003e"])</script><script>self.__next_f.push([1,"b:[\"$\",\"main\",null,{\"children\":[[\"$\",\"h3\",null,{\"className\":\"font-bold\",\"children\":\"Early Returns\"}],[\"$\",\"p\",null,{\"children\":\"January 12, 2021\"}],[\"$\",\"div\",null,{\"className\":\"page_postBody__sSgeO\",\"dangerouslySetInnerHTML\":{\"__html\":\"$13\"}}]]}]\n10:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Tripping on Code: Early Returns\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"How to write more readable code using early returns. \"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\na:null\n"])</script></body></html>